#Microarchitectural Independent Metrics Script

This c++ script finds many microarchitectural independent metrics in the traces created by the trace_gen Pintool.

##Dependencies
- zlib

##Compile
```
g++ -X3 -std=c++11 -lz uarch_indep_metrics.cpp -o uarch_indep_metrics
```

##Run
NOTE: Traces generated by the trace_gen pintool must be gzipped first.
```
./uarch_indep_metrics <trace-file>.gz <result-output-file>
```

To run the script on all gzipped trace files in a folder execute
```
./run_all_files.sh <directory-location> ./uarch_indep_metrics
```

##Metrics
- Total Instructions
- Instruction Mix: Reads, Writes, Taken Branches, NOt Taken Branches, Jumps, Calls, Returns, Other
- Instruction Set Size (ISS) for 64 byte block size
- ISS for 10%, 20%, 30%, 40%, 50%, 60%, 70%, 80%, 90%, 91%, 92%, 93%, 94%, 95%, 96%, 97%, 98%, 99%, 99.1% 99.2%, 99.3%, 99.4%, 99.5%, 99.6%, 99.7%, 99.8%, 99.9%, 100% of static cache line blocks that are references the most.
- Given an L1i cache size of 32kB, the maximum number of references individual cache lines receive for cache lines that do not fit in the cache.
- "number of cache line references that fit in cache" / "total cache line references"
- Stride Histogram
- Cache Line Reuse Histogram
- Branch Predictability: total branch targets, total jump targets, total multi-target jumps, total static branch, total static jumps, total branch direction transitions, total dynamic branches, total dynamic jumps, total dynamic multi-target jumps
- Cache Line Hit Histogram: 1st column is Hit Count, 2nd column is number of cache lines with that hit count.
- Single Use Icounts: the dynamic instruction numbers whose instruction addresses fell on cache lines that were references only once